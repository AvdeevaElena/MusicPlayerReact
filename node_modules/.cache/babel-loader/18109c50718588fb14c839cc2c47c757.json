{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\User\\\\ReactMusic\\\\reactmusic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\User\\\\ReactMusic\\\\reactmusic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\User\\\\ReactMusic\\\\reactmusic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\User\\\\ReactMusic\\\\reactmusic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import s from'./MusicPlayer.module.css';var enslndasAdetag=require(\"./musicFiles/Bo Kaspers Orkester - En sl ndas andetag.mp3\");var whatAWonderfulWorld=require(\"./musicFiles/Israel Kamakawiwoole - What A Wonderful World.mp3\");var ourHouse=require(\"./musicFiles/Madness Mdness - Our House.mp3\");var coplasTelúricas=require(\"./musicFiles/Martin Fierro - Coplas Telúricas.mp3\");var burlesque=require(\"./musicFiles/Rapossa - Burlesque.mp3\");var mysteryOfLove=require(\"./musicFiles/Sufjan Stevens - Mystery of Love.mp3\");var freebird=\"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3\";var audio=new Audio(\"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3\");function getTime(time){if(!isNaN(time)){return Math.floor(time/60)+\":\"+(\"0\"+Math.floor(time%60)).slice(-2);}}var MusicPlayer=/*#__PURE__*/function(_React$Component){_inherits(MusicPlayer,_React$Component);var _super=_createSuper(MusicPlayer);function MusicPlayer(){var _this;_classCallCheck(this,MusicPlayer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currentSong:null,music:\"stopped\",currentTime:null,duration:null};return _this;}_createClass(MusicPlayer,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){console.log('next props',nextProps.song);console.log('value pass',this.props.song);this.setState({currentSong:nextProps.song});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.state.currentSong!==prevState.currentSong){var track;switch(this.state.currentSong){case\"Martin Fierro - Coplas Telúricas\":track=coplasTelúricas;break;case\"Rapossa - Burlesque\":track=burlesque;break;case\"Madness Madness - Our House\":track=ourHouse;break;case\"Sufjan Stevens - Mystery of Love\":track=mysteryOfLove;break;case\"Bo Kaspers Orkester - En sl ndas andetag\":track=enslndasAdetag;break;case\"Israel Kamakawiwoole - What A Wonderful World\":track=whatAWonderfulWorld;break;default:break;}if(track){this.musicPlay.src=track;console.log('state.music src after',this.musicPlay.src);this.musicPlay.play();this.setState({music:\"playing\"});}}if(this.state.music!==prevState.music){if(this.state.music===\"paused\"){this.musicPlay.pause();}if(this.state.music===\"playing\"&&prevState.music===\"paused\"){this.musicPlay.play();}if(this.state.music===\"stop\"){this.musicPlay.pause();this.currentTime=0;this.setState({currentSong:null});}}}},{key:\"render\",value:function render(){var _this2=this;var currentTime=getTime(this.state.currentTime);var duration=getTime(this.state.duration);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"audio\",{ref:function ref(_ref){return _this2.musicPlay=_ref;}}),/*#__PURE__*/React.createElement(\"div\",{className:s.playerLayout},/*#__PURE__*/React.createElement(\"div\",null,this.state.music===\"playing\"?/*#__PURE__*/React.createElement(\"div\",null,this.state.currentSong,\" is playing\",\" \"):null,this.state.music===\"paused\"?/*#__PURE__*/React.createElement(\"div\",null,this.state.currentSong,\" is paused\",\" \"):null,this.state.music===\"playing\"||this.state.music===\"paused\"?/*#__PURE__*/React.createElement(\"div\",null,currentTime,\" / \",duration):\"\"),/*#__PURE__*/React.createElement(\"div\",null,this.state.music===\"paused\"&&/*#__PURE__*/React.createElement(\"button\",{className:s.button,onClick:function onClick(){return _this2.setState({music:\"playing\"});}},/*#__PURE__*/React.createElement(\"i\",null),\"Play\"),this.state.music===\"playing\"&&/*#__PURE__*/React.createElement(\"button\",{className:s.buttonTest,onClick:function onClick(){return _this2.setState({music:\"paused\"});}},/*#__PURE__*/React.createElement(\"i\",null),\"Pause\"),this.state.music===\"playing\"||this.state.music===\"paused\"?/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.setState({music:\"stop\"});}},/*#__PURE__*/React.createElement(\"i\",null),\"Stop\"):null)));}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;this.musicPlay.addEventListener(\"timeupdate\",function(e){_this3.setState({currentTime:e.target.currentTime,duration:e.target.duration});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.music.removeEventListener(\"timeupdate\",function(){});}}]);return MusicPlayer;}(React.Component);export default MusicPlayer;","map":{"version":3,"sources":["C:/Users/User/ReactMusic/reactmusic/src/companents/MusicPlayer.jsx"],"names":["React","axios","s","enslndasAdetag","require","whatAWonderfulWorld","ourHouse","coplasTelúricas","burlesque","mysteryOfLove","freebird","audio","Audio","getTime","time","isNaN","Math","floor","slice","MusicPlayer","state","currentSong","music","currentTime","duration","nextProps","console","log","song","props","setState","prevProps","prevState","track","musicPlay","src","play","pause","ref","playerLayout","button","buttonTest","addEventListener","e","target","removeEventListener","Component"],"mappings":"4nBACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,0BAAd,CAEA,GAAMC,CAAAA,cAAc,CAAEC,OAAO,CAAC,2DAAD,CAA7B,CACA,GAAMC,CAAAA,mBAAmB,CAAED,OAAO,CAAC,gEAAD,CAAlC,CACA,GAAME,CAAAA,QAAQ,CAAEF,OAAO,CAAC,6CAAD,CAAvB,CACA,GAAMG,CAAAA,eAAe,CAAEH,OAAO,CAAC,mDAAD,CAA9B,CACA,GAAMI,CAAAA,SAAS,CAAEJ,OAAO,CAAC,sCAAD,CAAxB,CACA,GAAMK,CAAAA,aAAa,CAAEL,OAAO,CAAC,mDAAD,CAA5B,CAGA,GAAMM,CAAAA,QAAQ,CAAG,gEAAjB,CAGA,GAAIC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,KAAJ,CAAU,gEAAV,CAAZ,CAEA,QAASC,CAAAA,OAAT,CAAiBC,IAAjB,CAAuB,CACrB,GAAI,CAACC,KAAK,CAACD,IAAD,CAAV,CAAkB,CAChB,MACEE,CAAAA,IAAI,CAACC,KAAL,CAAWH,IAAI,CAAG,EAAlB,EAAwB,GAAxB,CAA8B,CAAC,IAAME,IAAI,CAACC,KAAL,CAAWH,IAAI,CAAG,EAAlB,CAAP,EAA8BI,KAA9B,CAAoC,CAAC,CAArC,CADhC,CAGD,CACF,C,GAEOC,CAAAA,W,2VACJC,K,CAAQ,CACJC,WAAW,CAAE,IADT,CAEJC,KAAK,CAAE,SAFH,CAGJC,WAAW,CAAE,IAHT,CAIJC,QAAQ,CAAE,IAJN,C,mHAQoBC,S,CAAW,CACnCC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BF,SAAS,CAACG,IAApC,EACAF,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0B,KAAKE,KAAL,CAAWD,IAArC,EAEA,KAAKE,QAAL,CAAc,CACVT,WAAW,CAAEI,SAAS,CAACG,IADb,CAAd,EAIH,C,8DAEoBG,S,CAAWC,S,CAAW,CACvC,GAAI,KAAKZ,KAAL,CAAWC,WAAX,GAA2BW,SAAS,CAACX,WAAzC,CAAsD,CACpD,GAAIY,CAAAA,KAAJ,CACA,OAAQ,KAAKb,KAAL,CAAWC,WAAnB,EACE,IAAK,kCAAL,CACEY,KAAK,CAAG1B,eAAR,CACA,MACF,IAAK,qBAAL,CACE0B,KAAK,CAAGzB,SAAR,CACA,MACF,IAAK,6BAAL,CACEyB,KAAK,CAAG3B,QAAR,CACA,MACF,IAAK,kCAAL,CACE2B,KAAK,CAAGxB,aAAR,CACA,MACF,IAAK,0CAAL,CACEwB,KAAK,CAAG9B,cAAR,CACA,MACF,IAAK,+CAAL,CACE8B,KAAK,CAAG5B,mBAAR,CACA,MACF,QACE,MApBJ,CAuBA,GAAI4B,KAAJ,CAAW,CAET,KAAKC,SAAL,CAAeC,GAAf,CAAqBF,KAArB,CACAP,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqC,KAAKO,SAAL,CAAeC,GAApD,EACA,KAAKD,SAAL,CAAeE,IAAf,GACA,KAAKN,QAAL,CAAc,CACZR,KAAK,CAAE,SADK,CAAd,EAGD,CACF,CAED,GAAI,KAAKF,KAAL,CAAWE,KAAX,GAAqBU,SAAS,CAACV,KAAnC,CAA0C,CACxC,GAAI,KAAKF,KAAL,CAAWE,KAAX,GAAqB,QAAzB,CAAmC,CACjC,KAAKY,SAAL,CAAeG,KAAf,GACD,CACD,GAAI,KAAKjB,KAAL,CAAWE,KAAX,GAAqB,SAArB,EAAkCU,SAAS,CAACV,KAAV,GAAoB,QAA1D,CAAoE,CAClE,KAAKY,SAAL,CAAeE,IAAf,GACD,CACD,GAAI,KAAKhB,KAAL,CAAWE,KAAX,GAAqB,MAAzB,CAAiC,CAC/B,KAAKY,SAAL,CAAeG,KAAf,GACA,KAAKd,WAAL,CAAmB,CAAnB,CACA,KAAKO,QAAL,CAAc,CACZT,WAAW,CAAE,IADD,CAAd,EAGD,CACF,CACF,C,uCAGQ,iBACP,GAAME,CAAAA,WAAW,CAAGV,OAAO,CAAC,KAAKO,KAAL,CAAWG,WAAZ,CAA3B,CACA,GAAMC,CAAAA,QAAQ,CAAGX,OAAO,CAAC,KAAKO,KAAL,CAAWI,QAAZ,CAAxB,CAEA,mBACE,qDACE,6BAAO,GAAG,CAAE,aAAAc,IAAG,QAAK,CAAA,MAAI,CAACJ,SAAL,CAAiBI,IAAtB,EAAf,EADF,cAEI,2BAAK,SAAS,CAAIpC,CAAC,CAACqC,YAApB,eACE,+BACG,KAAKnB,KAAL,CAAWE,KAAX,GAAqB,SAArB,cACC,+BACE,KAAKF,KAAL,CAAWC,WADb,eACqC,GADrC,CADD,CAIG,IALN,CAMG,KAAKD,KAAL,CAAWE,KAAX,GAAqB,QAArB,cACC,+BACG,KAAKF,KAAL,CAAWC,WADd,cACqC,GADrC,CADD,CAIG,IAVN,CAWG,KAAKD,KAAL,CAAWE,KAAX,GAAqB,SAArB,EACD,KAAKF,KAAL,CAAWE,KAAX,GAAqB,QADpB,cAEC,+BACGC,WADH,OACmBC,QADnB,CAFD,CAMC,EAjBJ,CADF,cAqBE,+BACG,KAAKJ,KAAL,CAAWE,KAAX,GAAqB,QAArB,eACC,8BAAQ,SAAS,CAAIpB,CAAC,CAACsC,MAAvB,CACE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACV,QAAL,CAAc,CAAER,KAAK,CAAE,SAAT,CAAd,CAAN,EADX,eAGE,6BAHF,QAFJ,CASG,KAAKF,KAAL,CAAWE,KAAX,GAAqB,SAArB,eACC,8BAAQ,SAAS,CAAIpB,CAAC,CAACuC,UAAvB,CACE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACX,QAAL,CAAc,CAAER,KAAK,CAAE,QAAT,CAAd,CAAN,EADX,eAGE,6BAHF,SAVJ,CAiBG,KAAKF,KAAL,CAAWE,KAAX,GAAqB,SAArB,EACD,KAAKF,KAAL,CAAWE,KAAX,GAAqB,QADpB,cAEC,8BACE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACQ,QAAL,CAAc,CAAER,KAAK,CAAE,MAAT,CAAd,CAAN,EADX,eAGE,6BAHF,QAFD,CAQG,IAzBN,CArBF,CAFJ,CADF,CAsDD,C,6DAGmB,iBAClB,KAAKY,SAAL,CAAeQ,gBAAf,CAAgC,YAAhC,CAA8C,SAAAC,CAAC,CAAI,CACjD,MAAI,CAACb,QAAL,CAAc,CACZP,WAAW,CAAEoB,CAAC,CAACC,MAAF,CAASrB,WADV,CAEZC,QAAQ,CAAEmB,CAAC,CAACC,MAAF,CAASpB,QAFP,CAAd,EAID,CALD,EAMD,C,mEAEsB,CACrB,KAAKF,KAAL,CAAWuB,mBAAX,CAA+B,YAA/B,CAA6C,UAAM,CAAE,CAArD,EACD,C,yBAlJqB7C,KAAK,CAAC8C,S,EAqJlC,cAAe3B,CAAAA,WAAf","sourcesContent":["\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport s from './MusicPlayer.module.css';\r\n\r\nconst enslndasAdetag =require(\"./musicFiles/Bo Kaspers Orkester - En sl ndas andetag.mp3\");\r\nconst whatAWonderfulWorld =require(\"./musicFiles/Israel Kamakawiwoole - What A Wonderful World.mp3\");\r\nconst ourHouse =require(\"./musicFiles/Madness Mdness - Our House.mp3\");\r\nconst coplasTelúricas =require(\"./musicFiles/Martin Fierro - Coplas Telúricas.mp3\");\r\nconst burlesque =require(\"./musicFiles/Rapossa - Burlesque.mp3\");\r\nconst mysteryOfLove =require(\"./musicFiles/Sufjan Stevens - Mystery of Love.mp3\");\r\n\r\n\r\nconst freebird = \"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3\";\r\n\r\n\r\nlet audio = new Audio(\"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3\");\r\n\r\nfunction getTime(time) {\r\n  if (!isNaN(time)) {\r\n    return (\r\n      Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2)\r\n    );\r\n  }\r\n}\r\n  \r\n  class MusicPlayer extends React.Component {\r\n    state = {\r\n        currentSong: null,\r\n        music: \"stopped\",\r\n        currentTime: null,\r\n        duration: null\r\n      };  \r\n\r\n\r\n      componentWillReceiveProps(nextProps) {\r\n        console.log('next props', nextProps.song); \r\n        console.log('value pass', this.props.song);  \r\n  \r\n        this.setState({\r\n            currentSong: nextProps.song\r\n          });\r\n      \r\n    }  \r\n\r\n      componentDidUpdate(prevProps, prevState) {\r\n        if (this.state.currentSong !== prevState.currentSong) {\r\n          let track;\r\n          switch (this.state.currentSong) {\r\n            case \"Martin Fierro - Coplas Telúricas\":\r\n              track = coplasTelúricas;\r\n              break;\r\n            case \"Rapossa - Burlesque\":\r\n              track = burlesque;\r\n              break;\r\n            case \"Madness Madness - Our House\":\r\n              track = ourHouse;\r\n              break;\r\n            case \"Sufjan Stevens - Mystery of Love\":\r\n              track = mysteryOfLove;\r\n              break;\r\n            case \"Bo Kaspers Orkester - En sl ndas andetag\":\r\n              track = enslndasAdetag;\r\n              break;\r\n            case \"Israel Kamakawiwoole - What A Wonderful World\":\r\n              track = whatAWonderfulWorld;\r\n              break;  \r\n            default:\r\n              break;\r\n          }\r\n    \r\n          if (track) {\r\n            \r\n            this.musicPlay.src = track;\r\n            console.log('state.music src after', this.musicPlay.src); \r\n            this.musicPlay.play();\r\n            this.setState({\r\n              music: \"playing\"\r\n            });\r\n          }\r\n        }\r\n    \r\n        if (this.state.music !== prevState.music) {\r\n          if (this.state.music === \"paused\") {\r\n            this.musicPlay.pause();\r\n          }\r\n          if (this.state.music === \"playing\" && prevState.music === \"paused\") {\r\n            this.musicPlay.play();\r\n          }\r\n          if (this.state.music === \"stop\") {\r\n            this.musicPlay.pause();\r\n            this.currentTime = 0;\r\n            this.setState({\r\n              currentSong: null\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n      render() {\r\n        const currentTime = getTime(this.state.currentTime);\r\n        const duration = getTime(this.state.duration);\r\n     \r\n        return (\r\n          <>\r\n            <audio ref={ref => (this.musicPlay = ref)} />\r\n              <div className = {s.playerLayout}>\r\n                <div>\r\n                  {this.state.music === \"playing\" ? (\r\n                    <div>\r\n                     {this.state.currentSong} is playing{\" \"}\r\n                    </div>\r\n                  ) : null}\r\n                  {this.state.music === \"paused\" ? (\r\n                    <div>\r\n                      {this.state.currentSong} is paused{\" \"}\r\n                    </div>\r\n                  ) : null}\r\n                  {this.state.music === \"playing\" ||\r\n                  this.state.music === \"paused\" ? (\r\n                    <div>\r\n                      {currentTime} / {duration}\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </div>\r\n                <div >\r\n                  {this.state.music === \"paused\" && (\r\n                    <button className = {s.button}\r\n                      onClick={() => this.setState({ music: \"playing\" })}\r\n                    >\r\n                      <i/>\r\n                      Play\r\n                    </button>\r\n                  )}\r\n                  {this.state.music === \"playing\" && (\r\n                    <button className = {s.buttonTest}\r\n                      onClick={() => this.setState({ music: \"paused\" })}\r\n                    >\r\n                      <i/>\r\n                      Pause\r\n                    </button>\r\n                  )}\r\n                  {this.state.music === \"playing\" ||\r\n                  this.state.music === \"paused\" ? (\r\n                    <button \r\n                      onClick={() => this.setState({ music: \"stop\" })}\r\n                    >\r\n                      <i/>\r\n                      Stop\r\n                    </button>\r\n                  ) : null}\r\n                </div>\r\n            </div>\r\n          </>\r\n        );\r\n      }\r\n\r\n\r\n      componentDidMount() {\r\n        this.musicPlay.addEventListener(\"timeupdate\", e => {\r\n          this.setState({\r\n            currentTime: e.target.currentTime,\r\n            duration: e.target.duration\r\n          });\r\n        });\r\n      }\r\n    \r\n      componentWillUnmount() {\r\n        this.music.removeEventListener(\"timeupdate\", () => {});\r\n      }\r\n    \r\n}\r\nexport default MusicPlayer;"]},"metadata":{},"sourceType":"module"}